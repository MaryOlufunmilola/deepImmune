cons.mat  = fread("/liulab/xmwang/oxphos_proj/loading_data/scRNAseq/consens_mat.csv")
dim(cons.mat)
colnames(cons.mat)
rownames(cons.mat)
cons.mat  = read.csv("/liulab/xmwang/oxphos_proj/loading_data/scRNAseq/consens_mat.csv")
dim(cons.mat )
colnames(cons.mat )cons.mat
colnames(cons.mat)
cons.mat[1:10,1:10]
cons.mat  = fread("/liulab/xmwang/oxphos_proj/loading_data/scRNAseq/consens_mat.csv")
cons.mat = con.mat[cons.dt, -1,with=F]
cons.mat = cons.dt[cons.dt, -1,with=F]
cons.dt  = fread("/liulab/xmwang/oxphos_proj/loading_data/scRNAseq/consens_mat.csv")
cons.dt  = fread("/liulab/xmwang/oxphos_proj/loading_data/scRNAseq/consens_mat.csv")
cons.mat = cons.dt[cons.dt, -1,with=F]
cons.mat = cons.dt[, -1,with=F]
library(scran)
buildSNNGraph
?igraph::cluster_walktrap
max(cons.mat)
cons.mat = cons.mat/max(cons.mat)
hc1 <- hclust(cons.mat, method = "complete" )
max(cons.mat)
hc1 <- hclust(1-cons.mat, method = "complete" )
dim(cons.mat)
hc1 <- hclust(1-cons.mat )
library('fastcluster')
hc1 <- hclust(1-cons.mat , method = "completel")
hc1 <- hclust(1-cons.mat , method = "complete")
cons.mat[1:10,1:10]
cons.mat = as.matrix(cons.dt[, -1,with=F])
colnames(cons.mat)
rownames(cons.mat) = colnames(cons.mat)
cons.mat = cons.mat/max(cons.mat)
hc1 <- hclust(1-cons.mat , method = "complete")
dd = dist(1-cons.mat)
cons.mat = as.matrix(cons.dt[, -1,with=F])
rownames(cons.mat) = colnames(cons.mat)
sum(rowSums(cons.mat > 2)<=5)
sum(rowSums(cons.mat > 2)<=10)
tt = dist(as.matrix(mtcars))
tt
dim(tt)
class(tt)
dd = dist(1-cons.mat[1:100, 1:100])
hc1 <- hclust(dd , method = "complete")
plot(hc1)
dd
dd = as.dist(1-cons.mat[1:10,1:10])
hc1 <- hclust(dd , method = "complete")
plot(hc1)
cons.mat[1:10,1:10]
rownames(cons.mat) = colnames(cons.mat)
# sum(rowSums(cons.mat > 2)<=10)
library('fastcluster')
cons.mat = cons.mat/max(cons.mat)
dd = as.dist(1-cons.mat[1:10,1:10])
hc1 <- hclust(dd , method = "complete")
plot(hc1)
cons.mat[1:10,1:10]
dd = as.dist(1-cons.mat)
hc1 <- hclust(dd , method = "complete")
plot(hc1)
dd = as.dist(1-cons.mat[1:5,1:5])
hc1 <- hclust(dd , method = "complete")
plot(hc1)
cons.mat
cons.mat[1:5,1:5]
sum(rowSums(cons.mat > 5)<=10)
sum(rowSums(cons.mat > 5)<=3)
cons.mat = as.matrix(cons.dt[, -1,with=F])
sum(rowSums(cons.mat > 5)<=3)
sum(rowSums(cons.mat > 5)<=10)
cons.mat = as.matrix(cons.dt[, -1,with=F])
rownames(cons.mat) = colnames(cons.mat)
sum(rowSums(cons.mat > 9)<=10)
inx = which(rowSums(cons.mat > 9)>10)
cons.mat[inx, inx]
cons.mat = as.matrix(cons.dt[, -1,with=F])
inx = which(rowSums(cons.mat > 9)>10)
cons.mat = cons.mat[inx, inx]
library('fastcluster')
cons.mat = cons.mat/max(cons.mat)
dd = as.dist(1-cons.mat[1:5,1:5])
dd = as.dist(1-cons.mat[1:5,1:5])
hc1 <- hclust(dd , method = "complete")
plot(hc1)
